# Урок 1.1 — Вступление

![](1.png)

В связи с тем, что у меня не так много времени для ресерча каких-то новых штук и написания статей о них, я решил перевести серию уроков по Vulkan. Надеюсь, что мои переводы будут кому-то полезны и не очень плохого качества. Для начала обучения — прошу под кат.

Автор оригинала дал свое согласие на перевод. Также, когда я доперевожу все статьи и у меня будет время отформатировать их для github, он добавит русский перевод на свой сайт.

В этой части не будет ничего технического, так как я решил сохранить структуру оригинала. Будет рассказано немного о Vulkan, структуре уроков, ссылки на книги и тд.

## Описание

В этих уроках вы научитесь основам [Vulkan API](https://www.khronos.org/vulkan/). Vulkan это новый API созданный компанией [Khronos group](https://www.khronos.org/) \(создатели OpenGL\), он предоставляет улучшенную абстракцию для программирования графики на современных видеокартах. Новый интерфейс поможет лучше описать как ваше приложение будет работать с графическим процессором, что потенциально может увеличить производительность и уменьшить неожиданные ситуации, связанные с поведением драйвера по сравнению с существующими API, такими как [OpenGL](https://en.wikipedia.org/wiki/OpenGL) и [Direct3D](https://en.wikipedia.org/wiki/Direct3D). Идеи, лежащие в основе Vulkan, аналогичны идеям [Direct3D 12](https://en.wikipedia.org/wiki/Direct3D#Direct3D_12) и [Metal](https://en.wikipedia.org/wiki/Metal_(API)), но Vulkan имеет одно неоспоримое преимущество — полную кросс-платформенность, что позволяет разрабатывать приложение одновременно под Linux, Windows и Android.

Взамен, вам придется работать с менее абстрактным и более сложным API. Каждая мелочь, связанная с API, будет настраиваться вами с нуля, включая создание начального буфера кадров и управление памятью для объектов \(буферы, текстуры и тд.\). Драйвер будет меньше вас ограничивать, а это означает, что вам придется проделать больше работы, чтобы обеспечить правильное поведение вашего приложения.

Вывод — Vulkan не для всех. Он создан для программистов, которым нужно больше производительности, несмотря на более сложный и кропотливый процесс написания приложения. Если вы заинтересованы разработкой игр больше, чем программированием компьютерной графики, то вы можете и дальше использовать OpenGL или DirectX, в любом случае они по-прежнему поддерживаются и не будут вытеснены Vulkan\(ом\) в ближайшее время. Как альтернативу, можно использовать какой-то игровой движок \([Unreal Engine](https://en.wikipedia.org/wiki/Unreal_Engine#Unreal_Engine_4), [Unity](https://en.wikipedia.org/wiki/Unity_(game_engine)) и тд.\), который будет использовать Vulkan, но предоставит вам свою высокоуровневую абстракцию над базовым API.

Теперь давайте рассмотрим что вам надо для изучения Vulkan:

- Видеокарта и драйвера, совместимые с Vulkan \([NVIDIA](https://developer.nvidia.com/vulkan-driver), [AMD](https://www.amd.com/en/technologies?utm_medium=redirect&utm_source=301), [Intel](https://software.intel.com/content/www/us/en/develop/blogs/new-intel-vulkan-beta-1540204404-graphics-driver-for-windows-78110-1540.html)\)
- Знание C++ \(понимание [RAII](https://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B5%D1%81%D1%83%D1%80%D1%81%D0%B0_%D0%B5%D1%81%D1%82%D1%8C_%D0%B8%D0%BD%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F), основы языка\)
- Компилятор с поддержкой C++ 17 \(Visual Studio 2017+, GCC 7+ или Clang 5+\)
- Опыт работы с 3D графикой

> Рекомендую обновить драйвера на видеокарту.

В этой серии уроков от вас не требуется знания OpenGL или DirectX, но предполагается, что вы знакомы с основами 3D графики. Например, тут не будет объясняться математика, лежащая в основе перспективной проекции. Для понимания основ компьютерной графики рекомендую прочесть эту [книгу](https://paroj.github.io/gltut/). Другие хорошие ресурсы по графике:

- [Ray tracing за выходные](https://github.com/RayTracing/InOneWeekend)
- [Книга по PBR](http://www.pbr-book.org/)
- Open-source движки использующие Vulkan \([Quake](https://github.com/Novum/vkQuake) и [DOOM 3](https://github.com/DustinHLand/vkDOOM3)\)

Мы будем использовать С++, но вы также можете писать и на чистом С. Если будете использовать С, вам придется использовать другую библиотеку для линейной алгебры, так же самостоятельно структурировать код, так как мы будем использовать классы для структурирования кода и RAII для управления временем жизни ресурсов. Также существует [альтернативная версия руководства](https://github.com/bwasty/vulkan-tutorial-rs) для разработчиков на Rust.

Для того, что бы разработчикам на других языках было проще понять, как работать с базовым API, мы будем использовать С версию Vulkan API. Однако, вы можете использовать [C++ API](https://github.com/KhronosGroup/Vulkan-Hpp), который немного упростит жизнь и поможет избежать некоторых ошибок.

![](1.jpeg)

> Посмотри на котика и расслабься.

## E-Book

Также вы можете скачать это руководство в формате электронной книги (нет русского):

- [EPUB](https://raw.githubusercontent.com/Overv/VulkanTutorial/master/ebook/Vulkan%20Tutorial%20en.epub)
- [PDF](https://raw.githubusercontent.com/Overv/VulkanTutorial/master/ebook/Vulkan%20Tutorial%20en.pdf)

## Структура уроков

Для начала мы разберемся с тем, как работает Vulkan, и по шагам разберем, что нам нужно для отрисовки нашего первого треугольника на экране. Мы будем продвигаться маленькими шажочками, смысл которых поначалу будет вам не очень понятен, но потом вы поймете их роль когда увидите картину в целом. Следующим шагом будет настройка среды разработки [Vulkan SDK](https://www.lunarg.com/vulkan-sdk/), [GLM](https://glm.g-truc.net/0.9.9/index.html) для линейной алгебры и [GLFW](https://www.glfw.org/) для создания окна. В уроках будет показано, как настроить все под Windows + Visual Studio и Ubuntu Linux + GCC.

После чего мы реализуем все основные компоненты для отрисовки нашего первого треугольника. Каждая глава будет иметь примерно следующий вид:

- Введение. Описание концепции и ее цели.
- Разберём все нужные нам функций API для использование в нашей программе.
- Абстрагируем вызовы API внутри наших функций.

Каждая глава написана как продолжение предыдущей, но вы также можете читать их как отдельные статьи, знакомящие вас с определенным функционалом Vulkan, то есть вы можете использовать этот сайт как справочник по функционалу. Все функции и типы Vulkan, описанные тут, будут иметь ссылки на спецификацию, поэтому вы можете ознакомится с ними более подробно. Vulkan — новый API, поэтому в спецификации могут быть некоторые неточности или нехватка информации. Если столкнетесь с какими-то погрешностями, не стесняйтесь и оставляйте отзыв [в этом репозитории](https://github.com/KhronosGroup/Vulkan-Docs).

Как упоминалось ранее, Vulkan API достаточно низкоуровневый с множеством настроек, что даёт вам максимальный контроль работы графического конвейера. Это вынуждает нас повторно выполнять большое количество шагов по многу раз. Чтобы этого избежать, мы будем стараться выносить такой функционал в отдельные вспомогательные функции.

Также в конце каждой главы будет прилагаться исходный код \(включая предыдущие уроки\). Вы всегда можете заглянуть туда, если у вас возникнет какая-то ошибка и вы захотите сравнить код или будут сомнения в его структуре. Весь код тестировался на нескольких видеокартах от разных производителей, чтобы исключить ошибки, связанные с железом, и проверить корректность исходников.

Вы всегда можете задать вопрос, относящийся к конкретной теме. Пожалуйста, указывайте в коментариях вашу платформу, версию драйвера, исходный код, ожидаемое поведение и фактическое поведение, чтобы люди могли быстро сориентироваться и помочь вам. 

> На сайте с оригиналом статьи есть раздел комментариев под основным блоком.

Vulkan — это все еще новый API и **best practices** еще не сформировались. В случае, если у вас появились какие-то советы, отзывы об учебнике или самом сайте, не стесняйтесь и оставляйте ваши запросы или исправления \(можно пулл-реквесты на [GitHub](https://github.com/Overv/VulkanTutorial)\). Также можно следить за обновлениями руководства в репозитории.

После выполнения ритуала с рисованием треугольника мы начнем расширять нашу программу. Будем добавлять текстуры, модели и тд. Если у вас уже был опыт графического программирования, то вы знаете, что перед тем, как на экране что-то появится, нужно выполнить много шагов инициализации, создания буферов и тд. В Vulkan этих шагов на порядок больше, но не волнуйтесь, каждый шаг легко понять и вы поймете, что ни один из них не является лишним. Могу обрадовать, переход от скучного треугольника до отрисовки полноценной 3D модели с текстурами не потребует такого большого количества шагов и усилий от нас.

> Как правило, рисование треугольника в программировании графики, это как написание «Hello world!» при изучении языка.

Если вы столкнетесь с какими-либо проблемами, следуя руководству, сначала проверьте FAQ, чтобы увидеть, есть ли там ваша проблема и ее решение. Если решение так и не было найдено, не стесняйтесь обращаться за помощью в разделе комментариев в главе.

>От переводчика:
>
>Ребят, кому интересен данный цикл статей, поставьте лайк или отпишите в комменты, чтобы я знал нужно оно или нет. Если вы заинтересованы, то постараюсь быстро и >качественно перевести следующую статью.
